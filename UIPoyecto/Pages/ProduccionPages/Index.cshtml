@page
@{
    ViewData["Title"] = "Producción";
    <link rel="stylesheet" href="~/css/main.css">
}

<div>
    <div class="colum2">
        <div class="box">
            <h3 class="dl-header">Producciones Activas</h3>
            <div class="container">
                <ul class="datalist scrollable table-medium" id="prodDl"></ul>
            </div>

            <h3 class="dl-header">Historial de Produccion</h3>
            <div class="container">
                <ul class="datalist scrollable table-medium" id="histDl"></ul>
            </div>
        </div>

        <div class="box">
            <div class="formContainer">
                <div class="dateTask">
                    <div class="date-left">
                        <div id="date-number"></div>
                        <div>
                            <div id="datemonth"></div>
                            <div id="dateyear"></div>
                        </div>
                    </div>
                    <div id="dateday"></div>
                </div>
                <a href="~/ProduccionPages/NuevaProduccion" class="Primary-Button" style="width: 100%; display: inline-block; text-align: center;">+ Agregar Produccion</a>
                <div id="tasklist"></div>
            </div>
        </div>
    </div>
</div>

<script src="~/js/changeTheme.js" asp-append-version="true"></script>

<script type="module">
    import CreateDataList from "../js/ComponentesJs/StatusListComponent.js";
    import GetObjectData from "../js/ComponentesJs/GetDatosByApiUrlComponent.js";

    window.onload = async () => {

        await cargarDLProduccion();
        
    };

    const cargarDLProduccion = async () => {
        let prodData = await GetObjectData("../api/Produccion/GetVistaListaProduccionSimpleCalculada");
        let prodDataActive = await GetObjectData("../api/Produccion/GetVistaListaProduccionSimpleCalculadaActiva");

        //response = await response.json();
        CreateDataList(prodDataActive, prodDl, (item) => { editAlim(item); }, 'colum9', 'DetalleProduccion');
        CreateDataList(prodData, histDl, (item) => { editAlim(item); }, 'colum9');
    };
</script>








